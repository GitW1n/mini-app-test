<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="telegram-web-app" content="true" />
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <title>Mini App</title>
  <link rel="stylesheet" href="style.css">

</head>
<body>
  <header class="header">
    <h1>Telesim.tg</h1>
    
    <div class="clock" id="clock"></div>
  </header>
  <div class="header" id="adm">–í–∞–∂–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–µ–π—á–∞—Å –≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ! –ß—Ç–æ–±—ã –æ—Ç–º–µ–Ω–∏—Ç—å –∑–∞–∫–∞–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç–µ—Å—å.</div>
  
  
  <div class="terms-link"> 
    <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å –Ω–∞—à–∏–º <a href="#" onclick="changeContent('terms')">–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ–º</a>.</p>
  </div>  

  <div id="content">
    <div class="user-info">
      <img id="profile-picture" src="images/profile.png" alt="Profile Picture" />
      <span id="username">–ó–∞–≥—Ä—É–∑–∫–∞...</span>
      <span id="user-balance"></span> 
    </div>    
  </div>

  <div class="icon-buttons">
    <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É -->
    <button onclick="goHome()">
      <img src="https://img.icons8.com/?size=100&id=s7mPVCB5sKGa&format=png&color=ffffff" alt="Home" />
    </button>

    <script>
      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
      function goHome() {
        changeContent('home');  // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
      }
    
      // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
      function changeContent(page) {
        const content = document.getElementById('content');
        const userInfo = document.querySelector('.user-info').outerHTML;
    
        switch (page) {
          case 'home':
            content.innerHTML = `
              ${userInfo}
              <h2>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</h2>
              <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É!</p>
              <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª</h3>
              <div class="product-list" id="product-list"></div>
            `;
            renderProducts(mainSections, 'home');
            break;
            
            case 'subscriptions':
      content.innerHTML = `
        ${userInfo}
        <h2>–ü–æ–¥–ø–∏—Å–∫–∏</h2>
        <div class="product-list" id="product-list"></div>
      `;
      renderProducts(subscriptions, 'subscriptions');  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫
      break;
    
          // –î—Ä—É–≥–∏–µ —Å–ª—É—á–∞–∏
          default:
            content.innerHTML = `${userInfo} <h2>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</h2><p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É!</p>`;
        }
      }
    
      window.addEventListener('load', function () {
        changeContent('home');
      });
    </script>
  
    <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –≤ –∫–æ—Ä–∑–∏–Ω—É -->
    <button onclick="changeContent('cart')">
      <img src="https://img.icons8.com/ios/452/shopping-cart.png" alt="Cart" />
    </button>
  
    <!-- –ö–Ω–æ–ø–∫–∞ –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ –∑–∞–∫–∞–∑–∞–º -->
    <button onclick="changeContent('orders')">
      <img src="https://img.icons8.com/ios/452/order-delivered.png" alt="Orders" />
    </button>
  </div>
  <div id="qr-content"></div>
  
  <style>
    #qr-content{
      display: none;  /* –°–∫—Ä—ã–≤–∞–µ–º —ç—Ç–∏ div –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é */
    }
  </style>
  
  
  <script>
    function showCurrentTime() {
      const now = new Date();
      const hours = String(now.getHours()).padStart(2, '0');
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const seconds = String(now.getSeconds()).padStart(2, '0');
      const currentTime = `${hours}:${minutes}:${seconds}`;

      document.getElementById('clock').textContent = currentTime;
    }

    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
    setInterval(showCurrentTime, 1000);
    showCurrentTime();

    function showCurrentTime() {
  const now = new Date();
  
  const hours = String(now.getHours()).padStart(2, '0');
  const minutes = String(now.getMinutes()).padStart(2, '0');
  const seconds = String(now.getSeconds()).padStart(2, '0');
  
  const day = String(now.getDate()).padStart(2, '0');
  const month = String(now.getMonth() + 1).padStart(2, '0');
  const year = now.getFullYear();

  const currentTime = `${hours}:${minutes}:${seconds}`;
  const currentDate = `${day}.${month}.${year}`;

  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–∞—Ç—ã
  document.getElementById('clock').textContent = ` ${currentTime} ${currentDate}`;
}

// –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏ –∏ –¥–∞—Ç—ã
setInterval(showCurrentTime, 1000);
showCurrentTime();

  </script>


<script>
  const mainSections = [
    { title: '–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –Ω–æ–º–µ—Ä–∞', target: 'virtual-numbers' },
    { title: '–ê–∫–∫–∞—É–Ω—Ç—ã', target: 'accounts' },
    { title: '–ü–æ–¥–ø–∏—Å–∫–∏', target: 'subscriptions' },
    { title: 'üîí–í—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æüîí', target: null },
    { title: 'üîí–í—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æüîí', target: null },
    { title: '–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞', target: null }
  ];

  const virtualNumbers = [
    {
      title: '–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –¥–ª—è –†–æ—Å—Å–∏–∏ +7 912 345 67 89',
      description: '–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –°–ú–°',
      price: '55RUB',
      image: 'path_to_image_1.jpg',
      country: '–†–æ—Å—Å–∏—è'
    },
    {
      title: '–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –¥–ª—è –ö–µ–Ω–∏–∏ +254 701 234 567',
      description: '–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –ö–µ–Ω–∏–∏.',
      price: '56RUB',
      image: 'path_to_image_2.jpg',
      country: '–ö–µ–Ω–∏—è'
    },
    {
      title: '–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä +254 701 432 987',
      description: '–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –°–ú–°.',
      price: '60RUB',
      image: 'path_to_image_3.jpg',
      country: '–ö–µ–Ω–∏—è'
    },
    {
      title: '–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä +358 40 2424 568',
      description: '–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –°–ú–°.',
      price: '--RUB',
      image: 'path_to_image_3.jpg',
      country: '–§–∏–Ω–ª—è–Ω–¥–∏—è'
    }
  ];

  const accounts = [
    { title: 'üîíWeChat China(–¶–µ–Ω–∞ –Ω–µ –≤—ã—Å—Ç–∞–≤–ª–µ–Ω–∞)üîí'},
    { title: 'üîí–ù–µ –≤—ã—Å—Ç–∞–≤–ª–µ–Ωüîí' },
    { title: 'üîí–ù–µ –≤—ã—Å—Ç–∞–≤–ª–µ–Ωüîí' }
  ];

  const subscriptions = [
  {
      title: 'üîí–ù–µ –≤—ã—Å—Ç–∞–≤–ª–µ–Ωüîí',
      price: '--RUB'
  },
  {
      title: 'üîí–ù–µ –≤—ã—Å—Ç–∞–≤–ª–µ–Ωüîí',
      price: '--RUB'
  },
  {
      title: 'üîí–ù–µ –≤—ã—Å—Ç–∞–≤–ª–µ–Ωüîí',
      price: '--RUB'
  }
];

  let cart = [];

  function renderProducts(products, section) {
  const productList = document.getElementById('product-list');
  productList.innerHTML = '';

  products.forEach(product => {
    const item = document.createElement('div');
    item.className = 'product-item';
    item.innerHTML = `<span>${product.title}</span>${product.price ? `<span style="margin-left: auto;">–¶–µ–Ω–∞: ${product.price}</span>` : ''}`;

    if (section === 'home') {
      if (product.target) {
        item.addEventListener('click', () => {
          changeContent(product.target);
        });
      } else {
        item.style.cursor = 'not-allowed';  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Å—Ç–∏–ª—å –¥–ª—è –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã—Ö —Ä–∞–∑–¥–µ–ª–æ–≤
        item.addEventListener('click', () => {
          alert('–°–µ–∫—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞');
        });
      }
    } else {
      item.addEventListener('click', function () {
        cart.push(product);
        alert(`${product.title} –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–æ—Ä–∑–∏–Ω—É!`);
      });
    }
    

    productList.appendChild(item);
  });
  
}



  function renderCart() {
    const content = document.getElementById('content');
    const userInfo = document.querySelector('.user-info').outerHTML;

    if (cart.length === 0) {
      content.innerHTML = `
        ${userInfo}
        <h2>–ö–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞</h2>
        <p>–î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä—ã –≤ –∫–æ—Ä–∑–∏–Ω—É –¥–ª—è –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞.</p>
        <button onclick="changeContent('home')">–ü–µ—Ä–µ–π—Ç–∏ –≤ –º–∞–≥–∞–∑–∏–Ω</button>
      `;
      return;
    }

    content.innerHTML = `
      ${userInfo}
      <h2>–ö–æ—Ä–∑–∏–Ω–∞</h2>
      <ul>
        ${cart.map(product => `<li>${product.title} - ${product.price}</li>`).join('')}
      </ul>
      <button class="cart-button" onclick="proceedToCheckout()">–ö—É–ø–∏—Ç—å</button>
      <div id="qr-content" style="margin-top: 20px;"></div>
    `;
  }


  function addBackButton(content) {
  console.log("addBackButton –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è");
  
  const backButton = document.createElement('button');
  backButton.textContent = '–û—Ç–º–µ–Ω–∏—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ';

  // –°—Ç–∏–ª–∏ –¥–ª—è –∫–Ω–æ–ø–∫–∏
  backButton.style.padding = '10px 20px';
  backButton.style.fontSize = '16px';
  backButton.style.backgroundColor = '#e74c3c'; // –ö—Ä–∞—Å–Ω—ã–π —Ü–≤–µ—Ç –¥–ª—è –æ—Ç–º–µ–Ω—ã
  backButton.style.color = 'white';
  backButton.style.border = 'none';
  backButton.style.borderRadius = '5px';
  backButton.style.cursor = 'pointer';

  backButton.onclick = function () {
    changeContent('home');  // –í–µ—Ä–Ω—É—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
  };

  content.appendChild(backButton);  // –î–æ–±–∞–≤–ª—è–µ–º –∫–Ω–æ–ø–∫—É –≤ –∫–æ–Ω–µ—Ü –∫–æ–Ω—Ç–µ–Ω—Ç–∞
}




  function proceedToCheckout() {
    // –°—Ç—Ä–∞–Ω–∏—Ü–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
    if (cart.length > 0) {
      const orderId = Math.floor(Math.random() * 1000000);  // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID –∑–∞–∫–∞–∑–∞
      const amount = cart.reduce((sum, product) => sum + parseFloat(product.price), 0) * 100;  // –û–±—â–∞—è —Å—É–º–º–∞ –≤ –∫–æ–ø–µ–π–∫–∞—Ö
      const description = "–û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞ ‚Ññ" + orderId;

      // –î–∞–Ω–Ω—ã–µ –¥–ª—è QR-–∫–æ–¥–∞ –≤ —Ñ–æ—Ä–º–∞—Ç–µ –°–ë–ü
      const qrData = `ST00012|Name=–ò–ü –ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω|PersonalAcc=40802810000000000001|BankName=–¢–∏–Ω—å–∫–æ—Ñ—Ñ|BIC=044525974|PayeeINN=1234567890|Purpose=–ü–µ—Ä–µ–≤–æ–¥|Sum=${amount}`;

      // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è QR-–∫–æ–¥–∞ —á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π API
      const qrUrl = `https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=${encodeURIComponent(qrData)}`;

      // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–∫–∞–∑–µ
      const content = document.getElementById('content');
      content.innerHTML = `
        <h2>–û–ø–ª–∞—Ç–∞ –∑–∞–∫–∞–∑–∞ ‚Ññ${orderId}</h2>
        <p>–°—É–º–º–∞ –∫ –æ–ø–ª–∞—Ç–µ: ${(amount / 100).toFixed(2)} ‚ÇΩ</p>
        <p>–û—Ç—Å–∫–∞–Ω–∏—Ä—É–π—Ç–µ QR-–∫–æ–¥ –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –±–∞–Ω–∫–∞ –¥–ª—è –æ–ø–ª–∞—Ç—ã –∏–ª–∏ –ø–µ—Ä–µ–≤–µ–¥–∏—Ç–µ —Å—Ä–µ–¥—Å—Ç–≤–∞ –Ω–∞ —Å—á—ë—Ç —á–µ—Ä–µ–∑ –°–ë–ü(–¢–∏–Ω—å–∫–æ—Ñ—Ñ):</p> <a href="#" onclick="changeContent('terms')"> .</a>
      `;
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –±–ª–æ–∫ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
      content.style.display = 'block';

      // –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ QR-–∫–æ–¥–∞ –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º div
      const qrContent = document.getElementById('qr-content');
      qrContent.innerHTML = `    
        <img src="${qrUrl}" alt="QR –¥–ª—è –æ–ø–ª–∞—Ç—ã –ø–æ –°–ë–ü" style="max-width: 300px; border: 2px solid #000; padding: 10px; border-radius: 8px;" />
      `;
      
      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –±–ª–æ–∫ —Å QR-–∫–æ–¥–æ–º
      qrContent.style.display = 'block';

      // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–∫–∏ "–û—Ç–º–µ–Ω–∏—Ç—å –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏–µ" –Ω–µ–ø–æ—Å—Ä–µ–¥—Å—Ç–≤–µ–Ω–Ω–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—É –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞
      addBackButton(content);  // –ò—Å–ø–æ–ª—å–∑—É–µ–º —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏
    } else {
      alert('–í–∞—à–∞ –∫–æ—Ä–∑–∏–Ω–∞ –ø—É—Å—Ç–∞!');
    }
  }

  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫–Ω–æ–ø–∫–∏ –≤–æ–∑–≤—Ä–∞—Ç–∞ –Ω–∞ –≥–ª–∞–≤–Ω—É—é –≤ —Ä–∞–∑–¥–µ–ª –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è –∑–∞–∫–∞–∑–∞


  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∑–∞–∫–∞–∑–∞—Ö
  function renderOrders() {
    const content = document.getElementById('content');
    const userInfo = document.querySelector('.user-info').outerHTML;
    content.innerHTML = `
      ${userInfo}
      <h2>–ó–∞–∫–∞–∑—ã –≤ –æ–∂–∏–¥–∞–Ω–∏–∏</h2>
      <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è –∑–∞–∫–∞–∑—ã, –æ–∂–∏–¥–∞—é—â–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏.</p>
    `;
  }

  function changeContent(page) {
    const content = document.getElementById('content');
    const userInfo = document.querySelector('.user-info').outerHTML;

    switch (page) {
      case 'home':
        content.innerHTML = `
          ${userInfo}
          <h2>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</h2>
          <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É!</p>
          <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª</h3>
          <div class="product-list" id="product-list"></div>
        `;
        renderProducts(mainSections, 'home');
        break;

      case 'terms':
        content.innerHTML = `
          ${userInfo}
          <h2>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</h2>
          <h1>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ</h1>
          <p><strong>–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ: 7 —Ñ–µ–≤—Ä–∞–ª—è 2025 –≥–æ–¥–∞</strong></p>
          <p>–ù–∞—Å—Ç–æ—è—â–µ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ —Ä–µ–≥—É–ª–∏—Ä—É–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞ Telesim.tg. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–Ω–∏–º–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ—á–∏—Ç–∞–π—Ç–µ –µ–≥–æ –ø–µ—Ä–µ–¥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º.</p>
          <h2>1. –û–±—â–∏–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è</h2>
          <ul>
            <li>–ò—Å–ø–æ–ª—å–∑—É—è –°–µ—Ä–≤–∏—Å, –≤—ã —Å–æ–≥–ª–∞—à–∞–µ—Ç–µ—Å—å —Å —É—Å–ª–æ–≤–∏—è–º–∏ —ç—Ç–æ–≥–æ —Å–æ–≥–ª–∞—à–µ–Ω–∏—è.</li>
            <li>–ú—ã –º–æ–∂–µ–º –∏–∑–º–µ–Ω—è—Ç—å —É—Å–ª–æ–≤–∏—è –±–µ–∑ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞–∫—Ç—É–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ–≥–ª–∞—à–µ–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ.</li>
          </ul>
          <h2>2. –û–ø–∏—Å–∞–Ω–∏–µ —Å–µ—Ä–≤–∏—Å–∞</h2>
          <ul>
            <li>–°–µ—Ä–≤–∏—Å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É—Å–ª—É–≥–∏ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –Ω–æ–º–µ—Ä–æ–≤, –∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∏ –¥—Ä—É–≥–∏—Ö –ø—Ä–æ–¥—É–∫—Ç–æ–≤.</li>
            <li>–í—Å–µ —É—Å–ª—É–≥–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –Ω–∞ —É—Å–ª–æ–≤–∏—è—Ö "–∫–∞–∫ –µ—Å—Ç—å".</li>
          </ul>
          <h2>3. –ü—Ä–∞–≤–∞ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π</h2>
          <ul>
            <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –°–µ—Ä–≤–∏—Å —Ç–æ–ª—å–∫–æ –¥–ª—è –∑–∞–∫–æ–Ω–Ω—ã—Ö —Ü–µ–ª–µ–π.</li>
            <li>–ó–∞–ø—Ä–µ—â–µ–Ω–æ –≤–º–µ—à–∞—Ç–µ–ª—å—Å—Ç–≤–æ –≤ —Ä–∞–±–æ—Ç—É –°–µ—Ä–≤–∏—Å–∞ –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –≤–∏—Ä—É—Å–æ–≤.</li>
            <li>–ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–π—Ç–µ —Ç–æ–ª—å–∫–æ —Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.</li>
          </ul>
          <h2>4. –ü–ª–∞—Ç–µ–∂–∏ –∏ –≤–æ–∑–≤—Ä–∞—Ç—ã</h2>
          <ul>
            <li>–ü–ª–∞—Ç–µ–∂–∏ –æ–∫–æ–Ω—á–∞—Ç–µ–ª—å–Ω—ã –∏ –Ω–µ –ø–æ–¥–ª–µ–∂–∞—Ç –≤–æ–∑–≤—Ä–∞—Ç—É, –µ—Å–ª–∏ –Ω–µ –ø—Ä–µ–¥—É—Å–º–æ—Ç—Ä–µ–Ω–æ –∏–Ω—ã–º.</li>
            <li>–¶–µ–Ω—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω—ã –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è.</li>
          </ul>
          <h2>5. –ö–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç—å</h2>
          <ul>
            <li>–ú—ã –æ–±—è–∑—É–µ–º—Å—è –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å –≤–∞—à–∏ –¥–∞–Ω–Ω—ã–µ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º, –µ—Å–ª–∏ —ç—Ç–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –ø–æ –∑–∞–∫–æ–Ω—É.</li>
            <li>–î–∞–Ω–Ω—ã–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —É—Å–ª—É–≥ –∏ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞.</li>
          </ul>
          <h2>6. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏</h2>
          <ul>
            <li>–ú—ã –Ω–µ –Ω–µ—Å—ë–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∑–∞ —É–±—ã—Ç–∫–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –°–µ—Ä–≤–∏—Å–∞.</li>
            <li>–ù–µ –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –æ—à–∏–±–æ–∫ –∏ —Å–±–æ–µ–≤ –≤ —Ä–∞–±–æ—Ç–µ –°–µ—Ä–≤–∏—Å–∞.</li>
          </ul>
          <h2>7. –ü—Ä–µ–∫—Ä–∞—â–µ–Ω–∏–µ –¥–µ–π—Å—Ç–≤–∏—è —Å–æ–≥–ª–∞—à–µ–Ω–∏—è</h2>
          <ul>
            <li>–ú—ã –º–æ–∂–µ–º –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏–ª–∏ –ø—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –¥–æ—Å—Ç—É–ø –±–µ–∑ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è, –µ—Å–ª–∏ –Ω–∞—Ä—É—à–µ–Ω—ã —É—Å–ª–æ–≤–∏—è.</li>
            <li>–ü–æ—Å–ª–µ –ø—Ä–µ–∫—Ä–∞—â–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø –∫ –°–µ—Ä–≤–∏—Å—É –±—É–¥–µ—Ç –æ–≥—Ä–∞–Ω–∏—á–µ–Ω.</li>
          </ul>
          <h2>8. –ó–∞–∫–ª—é—á–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª–æ–∂–µ–Ω–∏—è</h2>
          <ul>
            <li>–í—Å–µ —Å–ø–æ—Ä—ã —Ä–µ—à–∞—é—Ç—Å—è –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –∑–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å—Å—Ç–≤–æ–º.</li>
            <li>–ï—Å–ª–∏ –∫–∞–∫–æ–µ-—Ç–æ –ø–æ–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∏–∑–Ω–∞–Ω–æ –Ω–µ–¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω—ã–º, –æ—Å—Ç–∞–ª—å–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è –≤ —Å–∏–ª–µ.</li>
            <li>–°–æ–≥–ª–∞—à–µ–Ω–∏–µ –≤—Å—Ç—É–ø–∞–µ—Ç –≤ —Å–∏–ª—É —Å –º–æ–º–µ–Ω—Ç–∞ –≤–∞—à–µ–≥–æ –∞–∫—Ü–µ–ø—Ç–∞.</li>
          </ul>
          <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å —Å —É—Å–ª–æ–≤–∏—è–º–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª–µ–Ω–∏—è —É—Å–ª—É–≥.</p>
          <button onclick="changeContent('home')">–í–µ—Ä–Ω—É—Ç—å—Å—è –Ω–∞ –≥–ª–∞–≤–Ω—É—é</button>
        `;
        break;

      case 'virtual-numbers':
        content.innerHTML = `
          ${userInfo}
          <h2>–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –Ω–æ–º–µ—Ä–∞</h2>
          <div class="product-list" id="product-list"></div>
        `;
        renderProducts(virtualNumbers, 'virtual-numbers');
        break;

      case 'accounts':
        content.innerHTML = `
          ${userInfo}
          <h2>–ê–∫–∫–∞—É–Ω—Ç—ã</h2>
          <div class="product-list" id="product-list"></div>
        `;
        renderProducts(accounts, 'accounts');
        break;
      
        case 'subscriptions':
        content.innerHTML = `
          ${userInfo}
          <h2>–ü–æ–¥–ø–∏—Å–∫–∏</h2>
          <div class="product-list" id="product-list"></div>
        `;
        renderProducts(subscriptions, 'subscriptions');  // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–æ–¥–ø–∏—Å–æ–∫
        break;

      case 'cart':
        renderCart();
        break;

      case 'orders':
        renderOrders();
        break;

      default:
        content.innerHTML = `
          ${userInfo}
          <h2>–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞</h2>
          <p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É!</p>
          <h3>–í—ã–±–µ—Ä–∏—Ç–µ —Ä–∞–∑–¥–µ–ª —Ç–æ–≤–∞—Ä–æ–≤</h3>
          <div class="product-list" id="product-list"></div>
        `;
        renderProducts(mainSections, 'home');
    }
  }

  window.addEventListener('load', function () {
    changeContent('home');
  });
</script>




  <script>
    const socket = new WebSocket('ws://localhost:3000'); // –õ–æ–∫–∞–ª—å–Ω—ã–π —Å–µ—Ä–≤–µ—Ä

    socket.onopen = function () {
      console.log('–ü–æ–¥–∫–ª—é—á–µ–Ω–æ –∫ —Å–µ—Ä–≤–µ—Ä—É –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π');
    };

    socket.onmessage = function (event) {
      const notification = JSON.parse(event.data);
      showNotification(notification.message);
    };

    socket.onerror = function (error) {
      console.error('–û—à–∏–±–∫–∞ WebSocket: ', error);
    };

    function showNotification(message) {
      const notificationDiv = document.createElement('div');
      notificationDiv.className = 'notification';
      notificationDiv.textContent = message;

      document.body.appendChild(notificationDiv);

      setTimeout(() => {
        notificationDiv.remove();
      }, 5000);
    }

    async function fetchProducts() {
      const response = await fetch('http://localhost:3000/api/products');
      const data = await response.json();
      return data;
    }

    async function addToCart(product) {
      await fetch('http://localhost:3000/api/cart', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(product)
      });
    }
  </script>

  <script>
    window.addEventListener('load', function () {
  const tg = window.Telegram.WebApp;

  // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Telegram WebApp
  tg.expand(); // –†–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –Ω–∞ –≤–µ—Å—å —ç–∫—Ä–∞–Ω
  const user = tg.initDataUnsafe.user; // –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

  if (user) {
    document.getElementById('username').textContent = user.username || `${user.first_name} ${user.last_name}`;
  } else {
    document.getElementById('username').textContent = '–ì–æ—Å—Ç—å';
  }

  changeContent('home');
});


if (user && user.photo_url) {
  document.getElementById('profile-picture').src = user.photo_url;
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ –∏–∑ URL
function getQueryParams() {
  const params = new URLSearchParams(window.location.search);
  const userId = params.get('user_id');
  const balance = params.get('balance');
  return { userId, balance };
}

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI —Å –±–∞–ª–∞–Ω—Å–æ–º
function updateBalance(balance) {
  const balanceElement = document.getElementById('balance');
  balanceElement.textContent = `–í–∞—à —Ç–µ–∫—É—â–∏–π –±–∞–ª–∞–Ω—Å: üí∞ ${balance}‚ÇΩ`;
}

// –ö–æ–≥–¥–∞ –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–∞, –∏–∑–≤–ª–µ–∫–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –æ–±–Ω–æ–≤–ª—è–µ–º UI
document.addEventListener('DOMContentLoaded', () => {
  const { userId, balance } = getQueryParams();
  if (balance !== null) {
    updateBalance(balance);
  }
});

// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –±–∞–ª–∞–Ω—Å–∞ —á–µ—Ä–µ–∑ API
async function updateBalanceAPI(userId, newBalance) {
  const response = await fetch('http://127.0.0.1:8000/update_balance', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
    },
    body: JSON.stringify({ user_id: userId, balance: newBalance }),  // –ü–µ—Ä–µ–¥–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∫–∞–∫ JSON
  });

  if (!response.ok) {
    // –ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –Ω–µ —É—Å–ø–µ—à–µ–Ω
    console.error('–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –±–∞–ª–∞–Ω—Å–∞');
    return;
  }

  const data = await response.json();
  return data;  // –û—Ç–≤–µ—Ç –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å –Ω–æ–≤—ã–º –±–∞–ª–∞–Ω—Å–æ–º
}

</script>
  <style>
    .notification {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      background-color: #3498db;
      color: white;
      padding: 15px;
      border-radius: 8px;
      font-size: 1rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      z-index: 1000;
      opacity: 0;
      animation: fadeIn 0.5s forwards;
    }

    @keyframes fadeIn {
      0% {
        opacity: 0;
      }
      100% {
        opacity: 1;
      }
    }
  </style>
<style>
  .cart-button {
    padding: 10px 20px;
    background-color: #ff9900;
    color: white;
    font-size: 16px;
    border: none;
    border-radius: 5px;
    cursor: pointer;
    transition: background-color 0.3s ease, transform 0.3s ease;
  }

  .cart-button:hover {
    background-color: #ff7f00;
    transform: scale(1.05); /* –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∫–Ω–æ–ø–∫—É –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ */
  }

  .cart-button:active {
    background-color: #e67e00;
    transform: scale(1);
  }
</style>

<style>#qr-content {
  display: flex;
  justify-content: center;
  align-items: center;
  margin-top: 20px;
}

#qr-content img {
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
  transition: transform 0.3s;
}

#qr-content img:hover {
  transform: scale(1.05);
}
</style>

</body>

</html>
